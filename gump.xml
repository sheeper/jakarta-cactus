<!--
   ==========================================================================
     Gump project descriptor for Cactus (see http://jakarta.apache.org/gump).
   ==========================================================================
  -->
<module name="jakarta-cactus">

  <url href="http://jakarta.apache.org/cactus/"/>

  <description>
      Unit test framework for server-side java code
  </description>

  <cvs repository="jakarta"/>

  <!--
     ========================================================================
       Build the Cactus Ant Custom Tasks
     ========================================================================
  -->
  <project name="jakarta-cactus-ant">

    <package>org.apache.cactus.ant</package>

    <ant buildfile="anttasks/build.xml" target="dist"/>
  
    <depend project="jakarta-ant"/>
    <depend project="xml-xerces"/>

    <home nested="anttasks/dist"/>
    <jar name="lib/cactus-ant.jar"/>
    <javadoc nested="anttasks/dist/doc/api"
             title="Cactus Custom Ant tasks API"/>

    <nag from="Vincent Massol &lt;vmassol@apache.org&gt;"
         to="cactus-dev@jakarta.apache.org"/>
  </project>

  <!--
     ========================================================================
       Build the Cactus Documentation
     ========================================================================
  -->
  <project name="jakarta-cactus-documentation">

    <ant buildfile="documentation/build.xml" target="dist">
      <depend property="cactus.ant.jar" project="jakarta-cactus-ant"/>
      <property name="cvs.executable" value="cvs"/>
    </ant>
  
    <depend project="jakarta-ant"/>
    <depend project="xml-xerces"/>
    <depend project="xml-stylebook2"/>
    <depend project="xml-xalan2"/>

    <javadoc nested="documentation/dist/doc" title="Cactus Documentation"/>

    <nag from="Vincent Massol &lt;vmassol@apache.org&gt;"
         to="cactus-dev@jakarta.apache.org"/>
  </project>

  <!--
     ========================================================================
       Build the Cactus Framework for J2EE 1.2
     ========================================================================
  -->
  <project name="jakarta-cactus-framework-12">

    <package>org.apache.cactus</package>

    <ant buildfile="framework/build.xml" target="dist">

      <depend property="j2ee.jar" project="jakarta-servletapi"/>
      <depend property="log4j.jar" project="jakarta-log4j"/>
      <depend property="commons.httpclient.jar" project="commons-httpclient"/>
      <depend property="httpunit.jar" project="httpunit"/>
      <depend property="aspectjrt.jar" project="aspectj" id="aspectjrt"/>
      <depend property="junit.jar" project="junit"/>
      <property name="dist.dir" value="framework/dist-12"/>
      <property name="target.dir" value="framework/target-12"/>

    </ant>
  
    <depend project="jakarta-ant"/>
    <depend project="xml-xerces"/>
    <depend project="aspectj"/>
    <depend project="checkstyle"/>

    <work nested="framework/target-12/classes/java"/>
    <work nested="framework/target-12/classes/test"/>

    <home nested="framework/dist-12"/>
    <jar name="lib/cactus.jar"/>
    <javadoc nested="framework/dist-12/doc/api"
             title="Cactus Framework for J2EE 1.2 API"/>

    <nag from="Vincent Massol &lt;vmassol@apache.org&gt;"
         to="cactus-dev@jakarta.apache.org"/>
  </project>

  <!--
     ========================================================================
       Build the Cactus Servlet Sample for J2EE 1.2
     ========================================================================
  -->
  <project name="jakarta-cactus-sample-servlet-12">

    <ant buildfile="sample-servlet/build.xml" target="dist">

      <depend property="j2ee.jar" project="jakarta-servletapi"/>
      <depend property="log4j.jar" project="jakarta-log4j"/>
      <depend property="commons.httpclient.jar" project="commons-httpclient"/>
      <depend property="httpunit.jar" project="httpunit"/>
      <depend property="aspectjrt.jar" project="aspectj" id="aspectjrt"/>
      <depend property="junit.jar" project="junit"/>
      <depend property="cactus.framework.jar" project="jakarta-cactus-framework-12"/>
      <depend property="cactus.ant.jar" project="jakarta-cactus-ant"/>
      <property name="cactus.framework.web" value="framework/dist-12/web"/>
      <property name="test.port" value="8081"/>
      <property name="tomcat.home.33" reference="home" project="jakarta-tomcat"/>
      <property name="dist.dir" value="sample-servlet/dist-12"/>
      <property name="target.dir" value="sample-servlet/target-12"/>
      <property name="cactus.framework.web" value="framework/dist-12/web"/>

    </ant>
  
    <depend project="jakarta-ant"/>
    <depend project="xml-xerces"/>
    <depend project="aspectj"/>
    <depend project="jakarta-tomcat"/>

    <nag from="Vincent Massol &lt;vmassol@apache.org&gt;"
         to="cactus-dev@jakarta.apache.org"/>
  </project>

  <!--
     ========================================================================
       Build the Cactus Framework for J2EE 1.3
     ========================================================================
  -->
  <project name="jakarta-cactus-framework-13">

    <package>org.apache.cactus</package>

    <ant buildfile="framework/build.xml" target="dist">

      <depend property="j2ee.jar" project="jakarta-servletapi-4"/>
      <depend property="log4j.jar" project="jakarta-log4j"/>
      <depend property="commons.httpclient.jar" project="commons-httpclient"/>
      <depend property="httpunit.jar" project="httpunit"/>
      <depend property="aspectjrt.jar" project="aspectj" id="aspectjrt"/>
      <depend property="junit.jar" project="junit"/>
      <property name="dist.dir" value="framework/dist-13"/>
      <property name="target.dir" value="framework/target-13"/>

    </ant>
  
    <depend project="jakarta-ant"/>
    <depend project="xml-xerces"/>
    <depend project="aspectj"/>
    <depend project="checkstyle"/>

    <work nested="framework/target-13/classes/java"/>
    <work nested="framework/target-13/classes/test"/>

    <home nested="framework/dist-13"/>
    <jar name="lib/cactus.jar"/>
    <javadoc nested="framework/dist-13/doc/api"
             title="Cactus Framework for J2EE 1.3 API"/>

    <nag from="Vincent Massol &lt;vmassol@apache.org&gt;"
         to="cactus-dev@jakarta.apache.org"/>
  </project>

  <!--
     ========================================================================
       Build the Cactus Servlet Sample for J2EE 1.3
     ========================================================================
  -->
  <project name="jakarta-cactus-sample-servlet-13">

    <ant buildfile="sample-servlet/build.xml" target="dist">

      <depend property="j2ee.jar" project="jakarta-servletapi-4"/>
      <depend property="log4j.jar" project="jakarta-log4j"/>
      <depend property="commons.httpclient.jar" project="commons-httpclient"/>
      <depend property="httpunit.jar" project="httpunit"/>
      <depend property="aspectjrt.jar" project="aspectj" id="aspectjrt"/>
      <depend property="junit.jar" project="junit"/>
      <depend property="cactus.framework.jar" project="jakarta-cactus-framework-13"/>
      <depend property="cactus.ant.jar" project="jakarta-cactus-ant"/>
      <property name="cactus.framework.web" value="framework/dist-13/web"/>
      <property name="test.port" value="8082"/>
      <property name="tomcat.home.40" reference="home" project="jakarta-tomcat-4.0"/>
      <property name="dist.dir" value="sample-servlet/dist-13"/>
      <property name="target.dir" value="sample-servlet/target-13"/>
      <property name="cactus.framework.web" value="framework/dist-13/web"/>

    </ant>
  
    <depend project="jakarta-ant"/>
    <depend project="xml-xerces"/>
    <depend project="jakarta-tomcat-4.0" inherit="runtime"/>
    <depend project="aspectj"/>

    <nag from="Vincent Massol &lt;vmassol@apache.org&gt;"
         to="cactus-dev@jakarta.apache.org"/>
  </project>

  <!--
     ========================================================================
       Build the Cactus distribution for J2EE 1.2
     ========================================================================
  -->
  <project name="jakarta-cactus-distribution-12">

    <ant buildfile="build.xml" target="gump">

      <depend property="j2ee.jar" project="jakarta-servletapi"/>
      <depend property="log4j.jar" project="jakarta-log4j"/>
      <depend property="commons.httpclient.jar" project="commons-httpclient"/>
      <depend property="httpunit.jar" project="httpunit"/>
      <depend property="aspectjrt.jar" project="aspectj" id="aspectjrt"/>
      <depend property="junit.jar" project="junit"/>
      <property name="dist.dir" value="dist-12"/>
      <property name="target.dir" value="target-12"/>
      <property name="release.dir" value="release-12"/>
      <property name="cvs.executable" value="cvs"/>

    </ant>

    <depend project="jakarta-ant"/>
    <depend project="xml-xerces"/>

    <depend project="jakarta-cactus-ant"/>
    <depend project="jakarta-cactus-documentation"/>
    <depend project="jakarta-cactus-framework-12"/>
    <depend project="jakarta-cactus-sample-servlet-12"/>

    <deliver fromdir="release-12" tosite="jakarta.apache.org"
             todir="builds/jakarta-cactus/nightly/@@DATE@@/" />

    <nag from="Vincent Massol &lt;vmassol@apache.org&gt;"
         to="cactus-dev@jakarta.apache.org"/>
  </project>

  <!--
     ========================================================================
       Build the Cactus distribution for J2EE 1.3
     ========================================================================
  -->
  <project name="jakarta-cactus-distribution-13">

    <ant buildfile="build.xml" target="gump">

      <depend property="j2ee.jar" project="jakarta-servletapi-4"/>
      <depend property="log4j.jar" project="jakarta-log4j"/>
      <depend property="commons.httpclient.jar" project="commons-httpclient"/>
      <depend property="httpunit.jar" project="httpunit"/>
      <depend property="aspectjrt.jar" project="aspectj" id="aspectjrt"/>
      <depend property="junit.jar" project="junit"/>
      <property name="dist.dir" value="dist-13"/>
      <property name="target.dir" value="target-13"/>
      <property name="release.dir" value="release-13"/>
      <property name="cvs.executable" value="cvs"/>

    </ant>

    <depend project="jakarta-ant"/>
    <depend project="xml-xerces"/>

    <depend project="jakarta-cactus-ant"/>
    <depend project="jakarta-cactus-documentation"/>
    <depend project="jakarta-cactus-framework-13"/>
    <depend project="jakarta-cactus-sample-servlet-13"/>

    <deliver fromdir="release-13" tosite="jakarta.apache.org"
             todir="builds/jakarta-cactus/nightly/@@DATE@@/" />

    <nag from="Vincent Massol &lt;vmassol@apache.org&gt;"
         to="cactus-dev@jakarta.apache.org"/>
  </project>

  <!--
     ========================================================================
       Build the Cactus source distribution
     ========================================================================
  -->
  <project name="jakarta-cactus-distribution-src">

    <ant buildfile="build.xml" target="gump.src">

      <depend property="j2ee.jar" project="jakarta-servletapi-4"/>
      <depend property="log4j.jar" project="jakarta-log4j"/>
      <depend property="commons.httpclient.jar" project="commons-httpclient"/>
      <depend property="httpunit.jar" project="httpunit"/>
      <depend property="aspectjrt.jar" project="aspectj" id="aspectjrt"/>
      <depend property="junit.jar" project="junit"/>
      <property name="cvs.executable" value="cvs"/>

    </ant>

    <depend project="jakarta-ant"/>
    <depend project="xml-xerces"/>

    <deliver fromdir="release" tosite="jakarta.apache.org"
             todir="builds/jakarta-cactus/nightly/@@DATE@@/" />

    <nag from="Vincent Massol &lt;vmassol@apache.org&gt;"
         to="cactus-dev@jakarta.apache.org"/>
  </project>

</module>
